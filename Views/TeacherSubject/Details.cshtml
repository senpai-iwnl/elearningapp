@model e_learning_app.Models.Subject

@{
ViewData["Title"] = "Szczegóły Przedmiotu";
Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>@Model.Name</h2>
<p>@Model.Description</p>

<!-- Przycisk do edycji przedmiotu -->
<a href="@Url.Action("Edit", "TeacherDashboard", new { id = Model.Id })" class="btn btn-warning mb-3">Edytuj Przedmiot</a>

<a href="@Url.Action("AddClass", "TeacherSubject", new { subjectId = Model.Id })" class="btn btn-success mb-3">Dodaj Klasę</a>

<!-- Przycisk do zarządzania studentami -->
<a href="@Url.Action("ManageStudents", "TeacherSubject", new { id = Model.Id })" class="btn btn-info mb-3">Zarządzaj Studentami</a>

<!-- Przycisk do zarządzania grupami -->
<a href="@Url.Action("ManageGroups", "TeacherSubject", new { id = Model.Id })" class="btn btn-secondary mb-3">Zarządzaj Grupami</a>

<table class="table table-striped">
    <thead>
    <tr>
        <th>Nazwa Klasy</th>
        <th>Opis</th>
        <th>Załączniki</th>
        <th>Akcje</th>
    </tr>
    </thead>
    <tbody>
    @foreach (var classItem in Model.Classes)
    {
    <tr>
        <td>@classItem.Name</td>
        <td>@classItem.Description</td>
        <td>
            @if (classItem.Documents.Any())
            {
            <ul>
                @foreach (var doc in classItem.Documents)
                {
                <li>
                    @doc.FileName
                    <a href="@Url.Action("DownloadDocument", "TeacherSubject", new { documentId = doc.Id })"
                       class="btn btn-sm btn-outline-primary">Pobierz</a>
                </li>
                }
            </ul>
            }
            else
            {
            <span>Brak załączników</span>
            }
        </td>
        <td>
            <a href="@Url.Action("EditClass", "TeacherSubject", new { id = classItem.Id })" class="btn btn-primary btn-sm">Edytuj</a>
            <a href="@Url.Action("DeleteClass", "TeacherSubject", new { id = classItem.Id })" class="btn btn-danger btn-sm">Usuń</a>
        </td>
    </tr>
    }
    </tbody>
</table>
